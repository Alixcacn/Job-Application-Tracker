<form hx-post="/applications" hx-target="#application-list" hx-swap="outerHTML"
    hx-on::after-request="if(event.detail.successful) { this.reset(); document.getElementById('add_job_modal').close(); }">

    <!-- Row 1: Company, Job Title -->
    <div class="grid grid-cols-2 gap-4">
        <div class="form-control">
            <label class="label"><span class="label-text">Company *</span></label>
            <input type="text" name="company" class="input input-bordered w-full" required />
        </div>
        <div class="form-control">
            <label class="label"><span class="label-text">Job Title *</span></label>
            <input type="text" name="job_title" class="input input-bordered w-full" required />
        </div>
    </div>

    <!-- Row 2: Location, Status -->
    <div class="grid grid-cols-2 gap-4 mt-2">
        <div class="form-control">
            <label class="label"><span class="label-text">Location</span></label>
            <input type="text" name="location" class="input input-bordered w-full" />
        </div>
        <div class="form-control">
            <label class="label"><span class="label-text">Current Status</span></label>
            <select name="current_status" class="select select-bordered w-full">
                <option value="Applied" selected>Applied</option>
                <option value="OA">OA</option>
                <option value="Phone Screen">Phone Screen</option>
                <option value="Technical">Technical</option>
                <option value="Onsite">Onsite</option>
                <option value="Offer">Offer</option>
                <option value="Rejected">Rejected</option>
                <option value="Ghosted">Ghosted</option>
            </select>
        </div>
    </div>

    <!-- Row 3: Date Applied, Last Contacted -->
    <div class="grid grid-cols-2 gap-4 mt-2">
        <div class="form-control">
            <label class="label"><span class="label-text">Date Applied</span></label>
            <input type="date" name="date_applied" class="input input-bordered w-full" />
        </div>
        <div class="form-control">
            <label class="label"><span class="label-text">Last Contacted</span></label>
            <input type="date" name="last_contacted_date" class="input input-bordered w-full" />
        </div>
    </div>

    <!-- Row 4: Source, Resume Version -->
    <div class="grid grid-cols-2 gap-4 mt-2">
        <div class="form-control">
            <label class="label"><span class="label-text">Source</span></label>
            <input type="text" name="source" placeholder="LinkedIn, Indeed..." class="input input-bordered w-full" />
        </div>
        <div class="form-control">
            <label class="label"><span class="label-text">Resume Version</span></label>
            <input type="text" name="resume_version" placeholder="v1.0, SWE Resume..."
                class="input input-bordered w-full" />
        </div>
    </div>

    <!-- Row 5: Link, Salary -->
    <div class="grid grid-cols-2 gap-4 mt-2">
        <div class="form-control">
            <label class="label"><span class="label-text">Job Link/JD</span></label>
            <input type="url" name="job_link" class="input input-bordered w-full" placeholder="https://..." />
        </div>
        <div class="form-control">
            <label class="label"><span class="label-text">Salary/TC Range</span></label>
            <input type="text" name="salary_range" class="input input-bordered w-full" />
        </div>
    </div>

    <!-- Row 6: Recruiter, Referral -->
    <div class="grid grid-cols-2 gap-4 mt-2">
        <div class="form-control">
            <label class="label"><span class="label-text">Recruiter/HM</span></label>
            <input type="text" name="recruiter_info" class="input input-bordered w-full" />
        </div>
        <div class="form-control">
            <label class="label"><span class="label-text">Referral/Contact</span></label>
            <input type="text" name="referral_contact" class="input input-bordered w-full" />
        </div>
    </div>

    <!-- Row 7: Priority, Follow Up (Extra) -->
    <div class="grid grid-cols-2 gap-4 mt-2">
        <div class="form-control">
            <label class="label"><span class="label-text">Priority (1-10)</span></label>
            <input type="number" name="priority" min="1" max="10" value="5" class="input input-bordered w-full" />
        </div>
        <div class="form-control">
            <label class="label"><span class="label-text">Next Follow Up</span></label>
            <input type="date" name="next_follow_up_date" class="input input-bordered w-full" />
        </div>
    </div>

    <div class="form-control mt-2">
        <label class="label"><span class="label-text">Interview Notes</span></label>
        <textarea name="notes" class="textarea textarea-bordered h-20"></textarea>
    </div>

    <!-- Hidden / Defaults -->
    <input type="hidden" name="timezone" value="EST" /> <!-- Default, can be dynamic later -->

    <div class="modal-action">
        <button type="submit" class="btn btn-primary">Save Application</button>
        <button type="button" class="btn" onclick="document.getElementById('add_job_modal').close()">Cancel</button>
    </div>
</form>